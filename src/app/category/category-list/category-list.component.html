<br>
<div class="container">
  <div class="text-center text-uppercase font-weight-bold">
    <span style="font-size: 24px">Danh mục câu hỏi</span>
  </div>
  <router-outlet></router-outlet>
  <div class="mt-lg-4">
    <ng-template #create let-modal>
      <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Thêm mới danh mục</h4>
        <button type="button" class="close" aria-label="Close" (click)="close()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div *ngIf="flagMessage == 1" class="alert alert-success text-center">
        <p>{{successMessage}}</p>
      </div>
      <div *ngIf="flagMessage == 2" class="alert alert-danger text-center">
        <p>{{failMessage}}</p>
      </div>
      <div class="modal-body">
        <form [formGroup]="categoryForm" (ngSubmit)="createCategory()">
          <div class="value">
            <div class="input-group">
              <div class="name">Tên danh mục:</div>
              <input class="input--style-5 form-control" type="text" formControlName="name">
            </div>
          </div>
          <div class="alert alert-danger" role="alert"
               *ngIf="categoryForm.get('name').hasError('required') && categoryForm.get('name').touched">
            Không được bỏ trống ô câu hỏi
          </div>
          <br>
          <div class="modal-footer">
            <button type="submit" class="btn btn--radius-2 btn--red">Thêm mới</button>
          </div>
        </form>
      </div>
    </ng-template>

    <button class="btn btn--radius-2 btn--red" (click)="openVerticallyCentered(create)">Tạo mới danh mục</button>
    <hr>
  </div>
  <div class="mt-lg-4">
    <ng-template #update let-modal>
      <div class="modal-header">
        <h4 class="modal-title">Chỉnh sửa thông tin danh mục</h4>
        <button type="button" class="close" aria-label="Close" (click)="close()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div *ngIf="flagMessage == 3" class="alert alert-success text-center">
        <p>{{successMessage}}</p>
      </div>
      <div *ngIf="flagMessage == 4" class="alert alert-danger text-center">
        <p>{{failMessage}}</p>
      </div>
      <div class="modal-body">
        <form [formGroup]="categoryForm" (ngSubmit)="updateCategory(currentCategory.id)">
          <div class="value">
            <div class="input-group">
              <div class="name">Tên danh mục:</div>
              <input class="input--style-5 form-control"
                     [value]="currentCategory.name" type="text"
                     formControlName="name">
            </div>
          </div>
          <br>
          <div class="modal-footer">
            <button type="submit" class="btn btn--radius-2 btn--red">
              <fa-icon [icon]="saveButton" class="mr-sm-3" size="lg"></fa-icon>
              Lưu
            </button>
          </div>
        </form>
      </div>
    </ng-template>
  </div>
  <div class="mt-lg-4">
    <table class="table table-hover table-dark">
      <thead class="text-center">
      <tr>Tên danh mục</tr>
      </thead>
      <tbody>
      <tr *ngFor="let category of categoryList">
        <th>{{category.name}}</th>
        <th>
          <button class="btn btn-outline-info" (click)="updateCategoryForm(category.id,update)">
            <fa-icon [icon]="editButton" size="lg"></fa-icon>
          </button>
        </th>
        <th>
          <button class="btn btn-outline-info" (click)="deleteCategory(category.id)">
            <fa-icon [icon]="recycleButton" size="lg"></fa-icon>
          </button>
        </th>
      </tr>
      </tbody>
    </table>
  </div>
</div>
